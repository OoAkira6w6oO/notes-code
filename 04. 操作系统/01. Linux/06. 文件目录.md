# 文件管理思想

- 采用tree目录结构，只有一个根目录
- 在Linux中一切均为文件

# 文件分类

## 指令文件

- /bin 常用指令
- /sbin 超级用户指令

## 日志文件

- /lost+found 非法关机后存放的某些文件
- /var
  - var其实是variable的缩写，存放动态可变文件
  - 日志 / 打印 / 邮件 / lock等

## 设备文件

- /dev 管理设备CPU、Disk等
- /media 媒体设备
- /etc 配置文件

## 系统文件

- /proc 内核相关
- /sys 系统
- /srv 服务

## 安装文件

- /opt 安装文件
- /usr/local 通过编译源码的方式安装的程序
- /usr 用户安装的软件

## 挂载文件

- /mnt 挂载，让用户临时挂载别的文件系统

## 其他文件

- /home 用户
- /lib 动态库
- /root 根用户
- /selinux 安全子系统
- /tmp 临时文件夹
- /boot 启动

# 文件目录操作

| 命令                                                         | 说明                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| pwd =print working directory                                 | 查看当前工作目录的绝对路径                                   |
| ls -a                                                        | 查看所有文件目录，包括隐藏文件                               |
| ls -l                                                        | 列表方式查看目录                                             |
| ls -al                                                       | 列表方式查看所有文件的文件目录 = ls -a + ls -l               |
| cd ~                                                         | 切换路径，到用户home目录                                     |
| cd /                                                         | 切换路径，到用户根目录                                       |
| cd ..                                                        | 切换路径，到上一级目录                                       |
| mkdir [dirName]                                              | 创建目录                                                     |
| mkdir -p [dir/dirName]                                       | 创建多级目录【parent                                         |
| rmdir [dirName]                                              | 删除空目录                                                   |
| rmdir -rf                                                    | 删除非空目录                                                 |
| touch [fileName1] [fileName2] [...]                          | 创建空文件                                                   |
| cp [sourceFile] [targetDir]                                  | 拷贝文件到指定目录                                           |
| cp -r [sourceDir] [targetDir]                                | 拷贝文件夹到文件夹                                           |
| \cp                                                          | 强制拷贝                                                     |
| rm [dir/file]                                                | 删除                                                         |
| rm -r                                                        | 递归删除文件夹                                               |
| rm -f                                                        | 强制删除                                                     |
| rm -rf                                                       | 强制递归删除文件夹                                           |
| mv [oldFileName] [newFileName]                               | 重命名文件                                                   |
| mv [file] [targetDir]                                        | 移动文件到指定文件夹                                         |
| >                                                            | 输出重定向（覆盖）<br />ls -l > file 就是将前面的结果输出到后面里<br />echo "test" > a.txt |
| >>                                                           | 追加，在尾部添加<br />把前者的输出内容追加到后者的最后<br />ls -al >> a.txt |
| cat [fileName]<br />cat -n [fileName]<br />cat [fileName] \| more | 只读查看文件【concatenate<br />查看并显示行号<br />查看并分页显示 |
| echo                                                         | 将内容输出到控制台<br />常用于输出环境变量                   |
| ¥PATH                                                        | 环境变量的路径                                               |
| head -n 5 [fileName]                                         | 查看文件头5行                                                |
| head [fileName]                                              | 查看文件头10行                                               |
| tail -n 5 [fileName]                                         | 查看文件末5行                                                |
| tail [fileName]                                              | 查看文件末10行                                               |
| tail -f [fileName]                                           | 实时追踪文档所有更新                                         |
| ln -s [file/name] [linkName]                                 | 软连接指令（类似快捷方式）<br/>存放了链接其他文件的路径<br/>应用特点：进入对应目录，但是不会改变pwd <br/>？如何删除软连接？rm -rf 链接名 |
| history 10                                                   | 显示最近使用过的10个指令                                     |
| history !10                                                  | 执行历史指令中的10号指令                                     |
| find [searchDir] [option] [targetFileName]<br />find /home -name hello.txt<br />find /opt -user userA<br />find /home -size +20M/-20M/20M<br />find /home -name a.txt<br />find /home -name *.txt | 查找文件                                                     |
| locate<br />updatedb<br />locate hello.txt                   | 查找文件，但不是遍历查找，而是建立了locate数据库去查找创建locate数据库<br />查找文件 |
| \|                                                           | 管道符号，表示将前面的命令的处理结果给后面的命令             |
| grep                                                         | 过滤查找                                                     |
| cat hello.txt \| grep -n yes<br />cat hello.txt \| grep -i yes | 在hello.txt中查找yes，并显示行号<br />+不区分大小写          |

# 文件管理

## 文件基本信息

- 所有者
- 所属组
- 其他组

## 文件类型

- -：普通文件
- d：目录
- l：软连接文件
- c：字符设备，鼠标、键盘等
- b：块文件，硬盘等

## 文件权限

- r 可读 / w 可写 / x 可执行 
- 权限对应数字4 2 1
- 权限对应识别对象 u 所有者/g 所有组/o 其他组/ a 所有人
- 更改权限chmod u=rx,g=rx,o=x/chomod o+w

# 权限管理指令

| 指令                               | 功能                                                         |
| ---------------------------------- | ------------------------------------------------------------ |
| ls -ahl                            | 查看文件的所有者 (h : human)                                 |
| chown [用户名] [文件名]            | 更改文件的所有者change owner                                 |
| chown [用户名] : [所有组] [文件名] | 同时更改文件的所有者和所在组                                 |
| chgrp [目标组] [文件名]            | chgrp [目标组] [文件名]                                      |
| chmod a+r abc                      | 给abc的所有人添加读的权限                                    |
| chmod 755 abc.txt                  | 将abc.txt文件的权限修改成rwxr-xr-x，用数字的方式实现         |
| chown tom abc.txt                  | 将文件abc.txt的所有者改为tom所有者读写执行的权限，给所有组读执行权限，给其他组读写权限 |
| chown -R tom kkk                   | 将kkk目录下的所有文件和目录的所有者改成tom                   |
