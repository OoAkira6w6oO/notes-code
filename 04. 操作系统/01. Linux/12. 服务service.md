# service定义

- service本质就是进程
- 一般**守护进程被称为service**
  - 运行在后台
  - 通常都会监听某个端口，等待其他程序的请求，比如mysql（3306），sshd（22），防火墙等

- Linux系统中的每一个服务，可以设置在每一个运行级别下是否自启动

# service相关指令

| 指令                                              | 功能                                      |
| ------------------------------------------------- | ----------------------------------------- |
| service iptables status                           | 查看防火墙的状态                          |
| service iptables stop                             | 关闭防火墙                                |
| service iptables start                            | 启动防火墙                                |
| telnet [ip端口]  <br />  telnet 192.168.186.31 22 | 检测Linux的某个端口是否在监听，且可以访问 |
| service [Name] start                              | 开启某服务                                |
| service [Name] stop                               | 关闭某服务                                |
| service [Name] restart                            | 重启某服务                                |
| service [Name] reload                             | 重新加载某服务                            |
| service [Name] status                             | 查看某服务的状态                          |
| setup命令    查看/etc/init.d                      | 查看系统中有哪些服务                      |

# service的开机启动管理

- chkconfig
  - service 立即生效，但是重新启动后，会回归以前对服务的设置


- chkconfig 希望设置某个服务自启动或永久关闭，需要reboot后生效

  | 命令                                     | 功能                                |
  | ---------------------------------------- | ----------------------------------- |
  | chkconfig --list                         | 查看所有服务的自启动设置情况        |
  | chkconfig --list \| grep xxx             | 查看某一个服务的自启动设置情况      |
  | chkconfig [ServiceName] --list           | 查看某一个服务的自启动设置情况      |
  | chkconfig --level 5 [ServiceName] on/off |                                     |
  | chkconfig --level 5 sshd off             | 将sshd服务在运行级别5下的自启动关闭 |
  | chkconfig iptables on                    | 在所有运行级别下，开启防火墙        |
