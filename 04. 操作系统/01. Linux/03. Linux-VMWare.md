# 说明

- 虚拟机，用来安装Linux
- 通过VMWare创建虚拟机空间 => 在虚拟机空尽安装CentOS系统文件

# bios配置

## 处理器个数

## 网络连接方式

### 桥连接

- 给Linux系统分配一个相同网段下的IP
- Linux可以和和网络下其他系统通信，但是可能出现IP地址冲突

### NAT模式

- 主机会有2个IP地址，Linux和其中一个位于同一网段。
- 外部网段无法找到Linux，Linux可以找到外部其他网段。
- NAT（网络地址转换，Network Address Translation）是一种常用的网络连接方式。
- 使用NAT模式时，虚拟机会通过主机（即运行虚拟机的物理计算机）的网络连接来访问外部网络。

### 主机模式

- Linux是独立主机，无法访问外网

## CD/DVD

- 指向CentOS.iso

## Linux的分区

- boot 200M
  - 挂载点，Linux启动时需要的引导文件 
- swap 2048M
  - 交换分区，系统内存不够时可以用swap暂时替代内存
  - 分区太大会导致性能下降
  - memory的1.5～2倍
- root

- kdump
  - 内核崩溃转存储机制，会占用一部分内存

# Mac中VMWare联网配置

## 思路

- mac = 主机网卡 + 虚拟网卡

- 虚拟机 = 虚拟网卡

- 想要让虚拟机能够联通网络，最重要的就是虚拟网卡的设置，推荐使用静态IP。

## 步骤

1. 首先在VMWare 的prefences中设置虚拟一个网卡

2. VM的虚拟网卡设置完毕之后，MAC中就会找到这个虚拟网卡对应的配置文件。

3. 在MAC中找到确定网关的IP
   ```shell
   # 关闭DHCP，找到静态IP
   # 该目录下的networking文件中可以看见vnet3的相关信息
   # 把DHCP改成no，这样才能得到静态IP，每次重新启动也不会更改IP，适合开发者使用
   cd /Library/Preferences/VMware Fusion 
   # 查看nat信息
   cat vnet3/nat.conf # 重点是里面的gateway，ip信息
   #主机能ping到网关 & 虚拟机能ping到网关，这个时候虚拟机的网络配置就搞定了！
   ```

4. 在VM中设置网关和静态IP

   ```shell
   # VMWare >> 网络适配器 >> 新建的vnet3
   vim /etc/sysconfig/network-scripts/ifcfg-xxxx # 进入虚拟网卡的配置文件
   # 如果有dhcp相关设定，改成static模式获取IP
   IPADDR = 192.168.184.31 //这就是手动设置的静态IP
   GATEWAY=192.168.184.1 //这个就是要设置的网关
   DNS1=192.168.184.1 //写成和网关一样的就行
   ```

# 给Linux系统增加一块硬盘

## 步骤

1. 虚拟机添加硬盘
   虚拟机——设置——硬盘——添加——SCSI / 2G / 将虚拟磁盘拆分成多个文件
   重启后确认分区增加

   ```shell
   lsblk -f
   ```

2. 分区

   ```shell
   # sdb下分出sdb1
   fdisk /dev/sdb——m——n——p——1——1——w
   # 格式化 （sdb1识别出唯一id）
   mkfs -t ext4 /dev/sdb1
   ```

3. 挂载
   ```shell
   # 创建挂载目录
   mount /dev/sdb1 /home/newdisk
   unmount /home/newdisk
   # 设置可以自动挂载（重启后，保证仍然可以成功挂载）
   vim /etc/fstab (记录了文件分区和挂载点)
   ```

   ​	
