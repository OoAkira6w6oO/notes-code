# crond 定时任务调度

## 定义

- 任务调度
  - 系统在某个时间执行
  - 定时指定某个脚本（shell）
- 任务调度分类
  - 系统工作：有些重要的工作必须周而复始地执行，比如病毒扫描
  - 个别用户工作：个别用户可能希望执行某些程序，比如对mysql数据库的备份

## 使用方法

- 所属目录

  - /etc/crontab
  - crontab = cron table

- crontab指令

  | 指令                  | 意义                              |
  | --------------------- | --------------------------------- |
  | crontab  -e           | 编辑crontab定时任务（增加任务）   |
  | crontab  -l           | 查询crontab任务                   |
  | crontab  -r           | 【删除】当前用户所有的crontab任务 |
  | service crond restart | 重启任务调度                      |

  - crontab -e 直接执行指令

    ```shell
    */1 * * * * ls -l /etc >> /tmp/to.txt
    ```

    /后面的五个数，分别代表 分钟、小时、日、月、星期

    这五个占位符可以用特殊符号代替，代表特殊含义

    *：任何时间

    ，：不连续时间，比如8,12,16

    -：连续的时间范围，比如1-6

    /n：该字段内每 n 个单位执行一次

    

    每天凌晨4点，每隔10分钟执行一次命令：*/10 4 * * * 命令

    注意：星期几和几号最好不要同时出现

  - crontab -e 执行指定脚本shell

    ```shell
    */1 * * * * /home/task.sh
    ```

