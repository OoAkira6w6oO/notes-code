# 计算机的组成

+ CPU
  + 单位GHz，每秒处理数十亿次请求
+ 内存
  + 随机存储 RAM = Random Access Memory
  + 只读存储 ROM = Read-Only Memory：存系统信息，如启动信息
+ 硬盘
  + HDD = Hard Disk
  + SSD = Solid-State Disk
+ 网络适配器
  + Gbps / Mbps

# 服务器 & 客户端

+ 服务器
  + 大家都要访问
  + 需要更稳定的硬件
  + 需要有冗余和容错能力
  + so 贵

+ 客户端
  + 与服务器进行通信

+ 关系

  + 两者本质都是电脑

  + 请求过程

    + client访问 DNS服务器，解析域名成为IP地址

    + client 向 server 发送 HTTP请求
      + 文件服务器 SMB / CIFS协议
      + 邮件服务器 SMTP协议

  + server 会和 client 通信

  + server 也会和 server 通信

    + DB服务器 和 APP服务器 通信

# 存储技术

## 块存储

+ 本质：HDD / SSD，“Driver”， “驱动器”
+ 使用：
  + 在OS中，一个磁盘创建一个“卷”，在再次基础上创建“分区”，
    + OS可以对 块存储 分区、格式化

  + 选择文件系统类型
    + FAT32： File Allocation Table 32
    + NTFS：New Technology File System

## 文件存储

+ 本地文件
+ NAS： Network Attached Storage

  + 概念：通过连接网络，访问“网络存储服务器”
  + 原理：将电脑驱动器，指向某个网络位置，从而使用OS访问NAS
  + 本质
    + 网络存储服务器 的本质是很多HDD
    + 在OS眼里，就是一个文件，所以说NAS基于文件存储
    + 相当于Linux系统中的挂载点
  + NAS有NAS管理员，通常供多个用户使用

## 对象存储系统

+ 本质：使用网络浏览器，通过 HTTP & REST API，获得信息
+ REST API：GET、POST、PUT
  + 表述行状态转移，使用HTTP协议和后端进行交流
  + PUT：将对象放到容器 / 服务器中，对象可以是任何想要上传的内容（文件、图片、文字等）

+ 特征：这种请求是没有层次结构的，是API式的

# 网络

## IP 地址 & DNS

+ IP地址
  + IP地址 是 用于通信的地址
  + IPv4：32位二进制，分成四组4x8，再转换成`点分十进制`
  + 子网掩码：用于区分`网络地址`和`主机地址`
    + 255.255.255.9 => 3byte作为网络地址
    + 也可以用192.168.0.24/24 的形式表示

+ 内部网络
  + 同一子网下的主机，共享相同的网络IP
  + 专供内网使用的网段
    + 10.0.0.0 ~ 10.255.255.255
    + 172.16.0.0 ~ 172.16.255.255
    + 192.168.0.0 ~ 192.168.0.255
+ DNS服务器
  + 存储了 IP 和 域名 的关联关系

## 路由器 & 交换机 & 防火墙

+ 交换机
  + 数据中心常用，在设计上一般用于`连接同一IP子网`的主机
  + 位于OSI模型的第二层，数据链路层
  + 负责同一网络地址内，信息的交换
+ 路由器
  + 在设计上，一般用于`连接不同IP子网`
  + 存储 路由表，记录去往目的地所需要经过的路由器的路径
+ 防火墙
  + 记录 各端口 可以通过的协议，这些端口和协议的集合叫做`规则表`
  + 设计时的两种思路
    + 基于`主机`的策略
    + 基于`流量`的策略
+ 其他
  + 交换机一般不用于区分网络地址 和 主机地址，这个的区分担当是路由器
  + 是不是同一网络，就看是不是同一IP网络，即网络地址是否相同
  + 跨网络的通信需要路由器

# 单体架构 & 微服务架构

## 单体架构

+ 概念
  + 将应用程序作为一个整体进行开发、部署、运行
  + 任何一个组件的更新 / 故障 都可能导致整个程序的崩溃
  + 包含应用程序的不同层级的各级组件
+ 注意
  + 服务器位于同一个虚拟机 / 服务区中
  + 可能包括负载均衡器

## 微服务架构

+ 概念
  + 拆分单体应用程序，独立部署各个代码单元
  + 整个程序是松散耦合的
  + 每个微服务可以适当缓存信息，以便自己down的时候供给其他server使用
+ 好处
  + 微服务架构一般围绕“业务能力”进行设计，每个微服务处理特定的业务功能或流程
  + 灵活可扩展
  + 快速部署和更新
+ 实践中的特征
  + 通常使用docker等容器进行部署
  + 使用API在不同微服务之间进行通信
