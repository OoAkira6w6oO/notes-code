# 结构变量

- 类似class的概念
- 想要将不同数据类型放在一起管理

# 基本说明

- 定义

  ```C
  //定义
  struct 结构名//这一行整个是结构类型的名字
  {
    成员表
  };
  
  //调用
  struct 结构名 变量表；
  ```

- 内存
  - 结构类型的定义只说明了结构的组织形式，它**本身并不占用存储空间**
  - 定义实体变量后，才占据存储空间
  - 按照各个成员的所需**内存之和**，分配存储空间
- 作用域
  - 和变量类似，取决与定义位置
- 一般情况下，**结构类型的定义都位于一个文件的首部**

# 定义时的代码举例

```C
//1. 基本的日期的结构类型
struct date
{
     int year;
     int month;
     int day;
};
struct date birthday;//birthday是struct date型结构变量


//2. 在定义结构类型的同时定义结构变量 
struct date
{    
  int year;
  int month;
  int day;
} birthday,monday;

//3. 直接定义结构变量——匿名
struct
{    
  int year;
  int month;
  int day;
} birthday;

//4. 结合typedef，定义新的类型名
typedef struct date
{
    int year;
    int month;
    int day;
}DATE;
DATE monday,birthday;//等价于struct date monday,birthday;

```

# 调用属性

- 语法

  - 结构变量名．成员名
  - **“.”是结构成员运算符**，它在所有运算符中优先级最高
  - 结构变量中的每个成员都可以像同类型的普通变量一样进行各种运算

- 引用

  ```C
  birthday.year=1997;
  birthday.month=7;
  birthday.day=1;
  birthday.year++;
  ```

# 属性的初始化

- 可以不初始化所有属性
- 未指定属性默认为0

```C
struct date birthday={1980,10,21};
birthday.year=1980，birthday.month=10，birthday.day=21;

struct date wang={1990};
```

# struct作函数参数

- 值传递
  - 形参结构变量中各成员值的改变，对相应实参结构变量不产生任何影响。 
- 与非数组作函数参数的处理方式完全相同
  - 如果是结构数组的话，就和数组一样，采用指针传递
- 理由：一般数组很大，想要防止大数据copy

```C
//作为参数：只改动了这个副本，对真正的参数没有影响
int get_date(struct date x)
{   
  …
  x.year=1995;
  …
}
//作为返回值
struct st func(int n)
{    
  struct st p;
  …
  return(p);
}

```

