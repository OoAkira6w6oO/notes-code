# 函数

- 子程序
- 函数之间的关系
  - main函数是中心
    - main函数可以调用任何一个函数
    - 其它函数不能调用main函数
    - 系统调用main函数
  
  - 函数与函数之间都是互相独立的 ，但可以互相调用
  
- 函数的分类
  - 标准库函数
    - 系统提供的
    - 如scanf
  - 用户自定义函数

# 定义新函数

- 语法

  - 函数值返回类型 函数名(形式参数表){函数体}

- 形式参数

  - 用于在调用函数和被调用函数之间进行`数据传递`的

  - 需要进行类型说明

    - way1:可以在函数参数表中给出
      - info_set(int x, int y, int z) 
    - way2: 可以在形式参数表的外部给出 //这是 K&R C 风格（1978 年之前的 C 标准）。


    ```C
    info_set(x, y, z) 
    int x, y, z;   // 参数类型在这里声明
    {
        // 函数体
    }
    //在函数名和 {} 之间声明了每个参数的类型。
    ```

  - 形参表可以是空的，也可以是由多个形参组成的

# 函数调用

- 函数名(实参表)；
- 何时结束
  - 函数体的右花括号
  - return语句


# 返回值

- return(表达式)；/ return 表达式；
- **系统默认的返回值类型为整型**，如果是int可以省略声明
- 返回值为void（没有返回值），可以使用return语句，立即结束函数的执行

# 原型声明

- 语法
  - float count(int);//函数名、返回值、形参类型
- 在调用到函数前，还未实现函数时使用
  - 当被调用函数的定义位于调用函数之前时，可以不必说明


- 可以允许在最外层统一说明，这样在调用的时候就不用声明了
- 可以提高可读性

```C
　main( )
    {  float count(int);//这里就是原型说明
       float s;
          …
       s=count(20);
          …
    }
```

# 参数传递方式

- 值传递
  - 调用函数时，会按照形参开辟内存，将实参copy进去
- 地址传递（指针传递）
  - 数组名做为参数，传递的是地址，会影响本身元素
  - 形参是数组的 **首地址**，函数内部操作会直接作用于原数组元素

# 递归调用

## 直接递归调用

- 函数直接调用自己本身

## 间接递归调用

- A调用B，B又调用A

## 递归函数的组成

- 计算方法
  - **将求解大问题转化为求解若干小问题的规则**
- 出口
  - 防止无限递归

```C
#include <stdio.h>

// 递归函数：计算 n 的阶乘
int factorial(int n) {
    if (n == 0 || n == 1)  // 递归终止条件
        return 1;
    else
        return n * factorial(n - 1);  // 递归调用自己
}

int main() {
    int num = 5;
    printf("%d! = %d\n", num, factorial(num));
    return 0;
}
```

