# 存储空间的分类

- 程序区
  - 可执行的机器指令
- 静态存储区
  - 需要占用固定存储单元的变量
- 动态存储区 Heap
  - 不需要占用固定存储单元的变量

# 变量的作用域

- 局部变量

  - 作用域仅仅局限于定义它的函数
  - 三种存储类别
    - 自动类(auto)
    - 静态类(static)
    - 寄存器类(register)
- 全局变量

  - 在函数外部定义的变量
  - 作用域：从它定义的位置开始到本源文件的结束

  - 存储类别
    - 静态存储区
  - 详细分类
    - 外部的extern
      - extern int x;
      - 没有声明为static的全局变量
      - 跨文件引用另一个文件的全局变量时；跨函数引用外部的变量
      - extern只能说明变量而不能定义变量，它只是说明其后的变量是已在程序的其它地方（文件）定义的外部变量
    - 静态的static
      - static float f;
      - 限制全局变量仅作用于此文件中
      - 作用范围是从定义它的位置开始到该文件的结束
- 同名优先级：局部变量 > 全局变量

# 变量的存储类别

- 存储方法——影响生存期
- 自动类(auto)
  - 特点
    - 不指定其存储类别
  - 定义
    - auto float f;//默认，所以可以省略
  - 内存
    - 动态存储区——结束后释放
  - 初始化
    - 每调用一次函数时都赋一次初值，且自动类变量的默认初值不确定
- 静态类(static)
  - 定义
    - static int i；
  - 内存
    - 静态存储区
  - 特点
    - 它的值并不消失，其值能够保持连续性
    - 作用域是定义它的函数内部
    - 静态局部变量是在编译过程中赋初值的，且只赋一次初值，在程序运行时其初值已经确定
    - 默认初值为0
- 寄存器类(register)
  - 特点
    - 提高某些自动类变量或函数形参的存取速度
    - 实际可用的寄存器数受机器硬件特性的限制
    - 能够说明为寄存器类变量的数据类型只有char、short int、unsigned int、int和指针型等
    - 只能将自动类变量或函数形参说明为寄存器类，而不能将静态变量或全局变量说明为寄存器类
  - 定义
    - register int n

# 函数的存储类别

## 内部函数

- 只能在定义它的文件中被调用
- static关键字
- static float act(int a, int b){}

## 外部函数

- 除了内部函数（静态函数）之外，其余的函数都可以被其它文件中的函数所调用
- 为了明确可以用extern关键字说明，定义的时候可以省略，但是引用外部函数的时候不可以省略

```C
//f1.c文件中的内容为：
 void main( )
 {    extern void input(char [ ] );//外部函数声明
      char buff[100];
      …
      input(buff);
      …
 }
//f2.c文件中的内容为：
extern void input(char b[100])//extern可以去掉
{
       …
}
```

