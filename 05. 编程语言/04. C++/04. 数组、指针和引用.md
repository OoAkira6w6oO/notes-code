# 数组

## 基本介绍

- 大量同类型数据
- C++不允许动态定义数组，长度必须是正整型的常量表达式
- 不允许一次引用整个数组，必须逐个引用每个数组元素
- 初始值

```C++
int a[5] = {1, 2, 3, 4, 5};
int a[5] = {1, 2};//1, 2, 0, 0, 0
int a[5];//如果全部不赋值可能有stack上垃圾值
static int data[5];//默认都是0
```

## 二维数组

- `int a[3][4]`;
  - `a` 是一个长度为 3 的数组
  - 每个元素又是一个长度为 4 的 int 数组
  - 内存中 
    - `a[0][0] a[0][1] a[0][2] a[0][3] | a[1][0] a[1][1] a[1][2] a[1][3] | a[2][0] a[2][1] a[2][2] a[2][3]`
    - 先行后列
- 允许不指定第一维的长度（即行数），但必须指定第二维的长度（即列数）
  - 第一维的长度可以由系统根据初始值表中的初值个数来确定
  - 此时必须给出所有元素的初值
  - 如果没有初始值表，则在定义二维数组时，所有维的长度都必须给出

```C++
int X[3][2]={1,2,3,4,5,6};
int X[3][2]={1,2,3}; //仅指定了前三个元素，剩下默认为0

int X[3][2]={{1,2},{3,4},{5,6}};//按行赋值
static int d[5][6]; //默认都为0

int X[ ][2]={{1},{2,3},{4}};
int X[ ][2]={1,2,3,4,5,6};
int X[ ][2]={1,2,3,4,5};//不整除也可以推测成功，合法


```

## 字符数组

- 可以是任意维度
- 字符数组和字符串有密切的关系

```C++
c[5]='B';
ch[1][1]='Y';

static char;
ch[5]={'H','e','l','l','o'};

//用字符串初始化
static char str[]={"Happy"};
static char str[]="Happy";//可以省略{}
static char str[ ]={'H','a','p','p','y','\0'};

```

- 字符串
  - 双引号括起来的“字符序列”
  - 一般是用字符数组存放的
  - 用'\0'标记字符串的末尾
    - 并不是要求，而是为了处理方便
    - 库函数中处理的字符串都遵循这种需求

# 指针

## 基本介绍

- 指向 变量、对象、函数
- 有利于动态数据的管理
- 在使用前，必须指向一个确定的变量

## 运算符

- & 取地址运算符——给指针变量赋值时使用
- `*` 间接访问运算符——存取数据时使用

## void指针

- void* 表示一个通用指针（generic pointer）
  - 指向某种未知类型的数据的指针
  - 任何类型的指针都可以 自动转换成 void*
  - void* 也可以 自动转换回原来的类型指针
- C语言和C++处理的区别
  - C更底层，允许很多“类型安全性”不高但方便的操作，简化常见函数（malloc 等）使用
  - C++提供更严格的类型安全和面向对象特性，为编译器检查，不允许把 void* 转成任何类型

```C++
char  *pc;
void  *pv;
        …
pv=pc;               //C语言和C++语言皆可
pc=pv;               //C语言可以，但C++语言不行
pc=(char *)pv;         //C语言和C++语言皆可


//malloc函数的使用区别
char *pc
  …
pc=(char *) malloc (100);   //C语言和C++语言皆可
pc=malloc(100);          //C语言可以，但C++语言不行

```



# 引用

## 基本介绍

- C++特有的数据类型
- 引用是一个变量的别名，它自动的适用于间接访问运算符*，但引用变量中的值（地址值）是不能被改变的
- 用法类似于简单变量
- 作用
  - 引用可以用作函数参数。
  - 函数的返回值可以是引用。 

```C++
int  x;
int  &y=x;
//y和x都代表着同一个变量
int *p=&x ;      //p指向x，或说*p是x的别名

```

## 和指针的对比

- 是否可变
  - 指针变量的值是可以改变的
  - 引用变量在初始化时被设定了某一变量的地址之后，就不能再改变了。
- 操作对象
  - 指针操作 值 or 地址
  - 引用 操作 值
