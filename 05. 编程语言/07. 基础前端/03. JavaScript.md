# 简介

## 历史

- Company Netscape
  - LiveScript
  - Navigator
- MicroSoft
  - IE
  - JScript

- ECMA
  - ECMA262: 规定JavaScript语法规范，浏览器支持这个语法
  - ECMAScript —— ES
  - 版本迭代 —— 关键版本ES6

## 特点

- 解释型脚本语言
- 语法规模小
- 基于对象
  - 模拟继承
  - 不支持多态
  - 本质不算面向对象
- 弱类型
  - 程序执行中根据上下文确定变量类型
- 事件驱动
  - 用户输入之后才发生一些动作
- 跨平台
  - 只要支持ECMA标准，都可以执行

# 函数声明

```html
funtion test(){
	aler(123)
}
```

# 函数和页面动作的绑定

- 注意：调用函数必须有小括号，即使没有参数

```javascript
<button onclick="test()"></button>
```

# JS代码在HTML中的引入方式

- 内嵌式	
  - script标签理论上可以放在任何位置
  - 一般推荐放在head标签中
  - script标签里直接放js代码

- 引入外部脚本文件

  - 在head标签中通过一对script标签引入外部js文件

    ```html
    <script src="js/xxx.js" type="text/javascript"></script>
    ```

- 注意

  - 一个html中可以有多个script抱歉
  - 一组script标签中，不能在引入外部js文件的同时定义内部脚本
    - 一组script只支持一种引入方式
  - script标签如果用于引入外部js文件，中间最好不要有任何字符，包括空格和换行
  - script必须写成双标签的形式

# 函数

- JavaScript是函数式编程，函数是主体

## 声明语法

- function 函数名(){}
- var 函数名 = function(){}
- 和java相比
  - 没有访问修饰符public等
  - 没有返回值类型也没有void，如果有值要返回，直接return
  - 没有异常列表
  - 调用方法时，实参和形参可以在数量上不一致，在方法内部可以通过arguments获得调用时的实参【如果多了，后面的被忽略；如果少了，会被自动默认为undefined
  - 函数也可以作为参数传递给另一个方法

```javascript
function sum(a, b){
  console.log(arguments)
  return a+b
}

var sum = function (a, b){
  return a+b
}
```



## 常用基础函数

- console.log
  - 输出 
- typeof
  - 判断数据类型的运算符
- prompt
  - 弹出输入框，接收数据
  - 返回结果是用户在窗口上输入的值，以string类型返回

- document.write("xxx")
  - 在页面中展示xxx


# 变量

## 声明

- 弱类型

  - 变量声明时，不指定类型
  - 赋值时，确定类型

- 使用

  ```javascript
  var i = 10
  ```

- 其他特点
  - 统一用var进行声明
  - var声明的变量可以再次声明
  - 变量可以使用不同数据类型多次赋值
  - JS语句可以;结尾，也可以没有;
  - 变量标识符严格区分大小写
  - 标识符的命名规则参照JAVA
  - 如果使用了一个没有声明的变量——运行时报错uncaught ReferenceError: *** is not defined 
  - 如果只声明没赋值一个变量——值是undefined

## 数据类型分类

- number
  - 数值类型  
  - 整数、小数
- string
  - 字符串类型 
- boolean
  - 布尔类型 
- Object
  - 引用类型
  - null属于一种Object
- function
- undefined
  - 命名未赋值

# 常见运算符

- 算数运算符
  - +, -, *, /, %
  - 除零：Infinity
  - 模零：NaN = Not a number
- 复合算数运算符
  - ++, --, +=, -=, *=, /=, %=
  - 除零：Infinity
  - 模零：NaN = Not a number
- 关系运算符
  - \>, \<, \>=, \<=, !=, ==, ===
  - ==: 如果两端数据类型不一致，会讲类型都转换成number再对比
  - ===： 如果两端数据类型不一致，直接返回false
- 逻辑运算符
  - ||, &&
- 条件运算符
  - 条件表达式? value1: value2
- 位运算符
  - |, &, <<, >>, >>>

# 流程控制

## 分支结构

- if - else if - else
- switch

## 循环结构

- while(){}
- for(var i = 1 ; i <= 9; i++)
- for(var index in array)
  - foreach结构，Java中是冒号，JavaScript里面是in关键字
  - 每一个元素是索引，而不是元素本身

# 对象的创建

- new Object()
- {key1: value1, key2: value2,....., 函数名:function(){}}

```javascript
var person = new Object()
//对象的属性？直接添加属性
person.name = "张三"
person.age = 10
//对象的方法？直接添加方法
person.eat = function(food){
  console.log("Eat" + food)
}
//访问属性
person.name
//访问方法
person.eat("火锅")


//放在一起实现
//属性和方法可以加双引号，也可以不加——推荐加
var person = {
  "name": "张三",
  "age": 10,
  "eat": function(food){
    console.log("Eat" + food)
  }
}
```

# JSON 格式

- JSON = JavaScript Object Notation JS对象简谱，轻量级数据交换格式

- 特定的字符串语法结构，在前后端都可以很方便地和对象进行转换

- 格式

  - 单引号/双引号包住整个
  - 属性名必须用 双引号 包裹
  - 属性值 字符串必须用 双引号 包裹，数字可以不处理

- 常用方法

  - JSON.parse()
  - JSON.stringify()

  ```javascript
  var personStr = '{
   "属性名": "属性值",
   "属性名": ["", "", ""]
  }'
  //一个JSON格式的字符串
  var personStr = '{
  	"name": "张三",
    "age":10,
    "dog":{
      "dname:":"花"
    },
    "loveSingers": ["小A", "小B"],
    "friends":[
      {"fname":"小V"},
      {"fname":"小P"}
    ]
  }'
  //通过JSON.parse()可以将一个JSON串转换成一个对象
  var person = JSON.parse(personStr)
  console.log(person.dog.dname)
  //通过JSON.stringify()将一个对象转换为JSON串
  var personStr2 = JSON.stringify(person)
  ```

  

# 常用对象（类库 API）

## 数组

- 数组的创建

- JS中的数组长度说变就变

- JS中的数组元素可以不一样

- 数组的API

  ```javascript
  var arr = new Array(3)//可以指定长度也可以不指定
  //var arr = new Array()
  //var arr = new Array("list", 11, false)
  //var arr = ["list", 11, false]//Java中是花括号，JS中是大括号
  arr[0] = "zhangsan"
  arr[1] = 10
  arr[9] = true //自动空出没定义的元素位
  arr.length = 20
  ```

- 常用方法

  | 方法        | 作用                                    |
  | ----------- | --------------------------------------- |
  | concat      | 合并数组                                |
  | pop         | 删除最后一个元素并返回                  |
  | push        | 添加一个元素，并且返回最新的长度        |
  | lastIndexOf | 查找元素，返回最后出现的位置            |
  | reverse     | 反转顺序                                |
  | join        | 转换成字符串，允许指定连接字符串        |
  | slice       | 截取数组，左闭右开                      |
  | splice      | 添加或删除元素（删除个数是0，就是仅添加 |

  
