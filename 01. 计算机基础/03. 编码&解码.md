# 编码 & 解码 的概念

- 编码
  - 字符串 => 字节（看得懂 => 看不懂）
  - 字符=> 二进制

- 解码：
  - 编码的逆过程，字节 =>     字符串
  - 二进制 => 字符

- 文件的编码 & 解码
  - 保存文件时
    - 内存 => disk
    - 编码过程

  - 打开文件时
    - 解码过程

  - 要保证编码和解码使用的是同一个编码集，否则会出现乱码

# 字符集

- 编码和解码时所采用的规则，成为字符集

- 常见编码表

  后面的编码表都是兼容ASCII的

  | ASCII     | 美国标准信息交换码 | 7位 / 128个                       |
  | --------- | ------------------ | --------------------------------- |
  | ISO8859-1 | 拉丁码表，欧洲码表 | 8位 / 256个                       |
  | GB2312    | 中国的中文编码     | 2Byte                             |
  | GBK       | 升级版中国字符     | 2Byte                             |
  | Unicode   | 国际标准码，万国码 | 2Byte                             |
  | UTF-8     | Unicode不够用了    | 变长 1-5Byte，最新修正的用了6Byte |
  | UTF-16    | 不兼容ASCII        | 变长 2-4Byte                      |
  | UTF-32    | 不兼容ASCII        | 定长 4Byte                        |

- UTF-8 的优点

  - 无字节序要求；

  - 节约内存的向后兼容ASCII；

  - 单字节上错误兼容更好；

  - 理论涵盖的编码多向前兼容更大扩展；

  - 与编程语言兼容处理上变得相对简单；

# 汉字的编码

- GBK：一个汉子占用2个字节     //China

- UTF-8: 一个汉字占用3个字节     //World

# Base 64

## 使用场景

- 邮件中的附件，根据SMTP协议中——按Base 64保存
-  HTML网页中的DataURL内联校图片，节省HTTP请求，让网页更快显示
- Github REST API，在Json中嵌入文件原始内容
- 编译代码时的Sourcemap，让浏览器可以看到编译前的源码，方便debug

## 作用

- 二进制<=>ASCII纯文本字符
- 在任何兼容ASCII的地方完好无损地传输文件

## 原理

- 从ASCII中挑选了64个字母，编写出了一个子集
  - A～Z 
  - a～z 
  - 0～9 
  - +
  - /
  - 这些字符在子集中的编码正好是他们对应的index索引值
- 3 Byte数据 => 24 位 二进制 => 4set x 6位 => 每一个6位都在子集中能找到一个可显示字符

- 任意 3Byte 在传输时，实际是4Byte => Base 64编码会带来 1/3 的额外开销
- 如果input不是6的倍数，结尾一般补0，最后一位补=
