# 基本介绍

- 描述文件差异的文件——patch文件
- diff命令生成patch文件；patch命令应用patch文件

# 基本语法

- 文件头（File header）

```python
--- old_file  时间戳 // ---：旧文件
+++ new_file  时间戳 // +++：新文件
// 每个文件的改动用一个独立的 --- / +++ 区块表示。
```

- 区块头（Hunk header）

```python
@@ -old_start,old_count +new_start,new_count @@
//旧文件中修改开始的行号, 旧文件中受影响的行数, 新文件中修改开始的行号, 新文件中受影响的行数
```

- 内容区（Hunk body）

```python
" " // 未改动
"+" // 新增行
"-" // 删除行
```

## 举例

- old.txt

```txt
apple
banana
cherry
```

- new.txt

```txt
apple
blueberry
cherry
```

- path

```diff
--- old.txt    2025-10-27
+++ new.txt    2025-10-27
@@ -1,3 +1,3 @@
 apple
-banana
+blueberry
 cherry
```



# 常用命令

```shell
# 生成 -- 单文件
diff -u old_file new_file > change.patch
# 生成 -- 目录
diff -urN old_dir new_dir > update.patch


```

